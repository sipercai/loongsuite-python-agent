interactions:
- request:
    body: |-
      {
        "model": "wanx-v1",
        "parameters": {},
        "input": {
          "prompt": "A test image for async"
        }
      }
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '85'
      Content-Type:
      - application/json
      X-DashScope-Async:
      - enable
      authorization:
      - Bearer test_dashscope_api_key
      user-agent:
      - dashscope/1.25.2; python/3.13.9; platform/macOS-15.3.2-arm64-arm-64bit-Mach-O;
        processor/arm
    method: POST
    uri: https://dashscope.aliyuncs.com/api/v1/services/aigc/text2image/image-synthesis
  response:
    body:
      string: |-
        {
          "request_id": "14e94672-0b0a-4fe5-b472-a1c613416760",
          "output": {
            "task_id": "98dd7f12-116c-499f-b7dd-02d66b9da2ed",
            "task_status": "PENDING"
          }
        }
    headers:
      content-length:
      - '137'
      content-type:
      - application/json
      date:
      - Sun, 07 Dec 2025 11:31:02 GMT
      req-arrive-time:
      - '1765107062821'
      req-cost-time:
      - '113'
      resp-start-time:
      - '1765107062934'
      server:
      - istio-envoy
      set-cookie:
      - acw_tc=14e94672-0b0a-4fe5-b472-a1c613416760fcc578913426bffaa53dc6cb8acfbc46;path=/;HttpOnly;Max-Age=1800
      transfer-encoding:
      - chunked
      vary:
      - Origin,Access-Control-Request-Method,Access-Control-Request-Headers, Accept-Encoding
      x-dashscope-call-gateway:
      - 'true'
      x-dashscope-timeout:
      - '298'
      x-envoy-upstream-service-time:
      - '106'
      x-request-id:
      - 14e94672-0b0a-4fe5-b472-a1c613416760
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      authorization:
      - Bearer test_dashscope_api_key
      user-agent:
      - dashscope/1.25.2; python/3.13.9; platform/macOS-15.3.2-arm64-arm-64bit-Mach-O;
        processor/arm
    method: GET
    uri: https://dashscope.aliyuncs.com/api/v1/tasks/98dd7f12-116c-499f-b7dd-02d66b9da2ed
  response:
    body:
      string: |-
        {
          "request_id": "5f758953-78ca-42f8-ba9f-a9ed071c141a",
          "output": {
            "task_id": "98dd7f12-116c-499f-b7dd-02d66b9da2ed",
            "task_status": "PENDING",
            "submit_time": "2025-12-07 19:31:02.915",
            "scheduled_time": "2025-12-07 19:31:02.961",
            "task_metrics": {
              "TOTAL": 4,
              "SUCCEEDED": 0,
              "FAILED": 0
            }
          }
        }
    headers:
      content-length:
      - '272'
      content-type:
      - application/json;charset=UTF-8
      date:
      - Sun, 07 Dec 2025 11:31:03 GMT
      req-arrive-time:
      - '1765107063046'
      req-cost-time:
      - '49'
      resp-start-time:
      - '1765107063095'
      server:
      - istio-envoy
      set-cookie:
      - acw_tc=5f758953-78ca-42f8-ba9f-a9ed071c141aec551f53f2f1e6ec5751235fc2265d38;path=/;HttpOnly;Max-Age=1800
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-envoy-upstream-service-time:
      - '41'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      authorization:
      - Bearer test_dashscope_api_key
      user-agent:
      - dashscope/1.25.2; python/3.13.9; platform/macOS-15.3.2-arm64-arm-64bit-Mach-O;
        processor/arm
    method: GET
    uri: https://dashscope.aliyuncs.com/api/v1/tasks/98dd7f12-116c-499f-b7dd-02d66b9da2ed
  response:
    body:
      string: |-
        {
          "request_id": "f44ae63e-0530-4de4-97fc-7c09d2451b5e",
          "output": {
            "task_id": "98dd7f12-116c-499f-b7dd-02d66b9da2ed",
            "task_status": "RUNNING",
            "submit_time": "2025-12-07 19:31:02.915",
            "scheduled_time": "2025-12-07 19:31:02.961",
            "task_metrics": {
              "TOTAL": 4,
              "SUCCEEDED": 0,
              "FAILED": 0
            }
          }
        }
    headers:
      content-length:
      - '272'
      content-type:
      - application/json;charset=UTF-8
      date:
      - Sun, 07 Dec 2025 11:31:04 GMT
      req-arrive-time:
      - '1765107064195'
      req-cost-time:
      - '39'
      resp-start-time:
      - '1765107064235'
      server:
      - istio-envoy
      set-cookie:
      - acw_tc=f44ae63e-0530-4de4-97fc-7c09d2451b5e582de241ea6e6cdb7b2f9533eea9b969;path=/;HttpOnly;Max-Age=1800
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-envoy-upstream-service-time:
      - '33'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      authorization:
      - Bearer test_dashscope_api_key
      user-agent:
      - dashscope/1.25.2; python/3.13.9; platform/macOS-15.3.2-arm64-arm-64bit-Mach-O;
        processor/arm
    method: GET
    uri: https://dashscope.aliyuncs.com/api/v1/tasks/98dd7f12-116c-499f-b7dd-02d66b9da2ed
  response:
    body:
      string: |-
        {
          "request_id": "f98cb6c2-ccb1-48e7-878e-001ede225ab2",
          "output": {
            "task_id": "98dd7f12-116c-499f-b7dd-02d66b9da2ed",
            "task_status": "RUNNING",
            "submit_time": "2025-12-07 19:31:02.915",
            "scheduled_time": "2025-12-07 19:31:02.961",
            "task_metrics": {
              "TOTAL": 4,
              "SUCCEEDED": 0,
              "FAILED": 0
            }
          }
        }
    headers:
      content-length:
      - '272'
      content-type:
      - application/json;charset=UTF-8
      date:
      - Sun, 07 Dec 2025 11:31:05 GMT
      req-arrive-time:
      - '1765107065345'
      req-cost-time:
      - '49'
      resp-start-time:
      - '1765107065395'
      server:
      - istio-envoy
      set-cookie:
      - acw_tc=f98cb6c2-ccb1-48e7-878e-001ede225ab282065eed3e3cf81d55d99590c8b5d6a9;path=/;HttpOnly;Max-Age=1800
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-envoy-upstream-service-time:
      - '42'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      authorization:
      - Bearer test_dashscope_api_key
      user-agent:
      - dashscope/1.25.2; python/3.13.9; platform/macOS-15.3.2-arm64-arm-64bit-Mach-O;
        processor/arm
    method: GET
    uri: https://dashscope.aliyuncs.com/api/v1/tasks/98dd7f12-116c-499f-b7dd-02d66b9da2ed
  response:
    body:
      string: |-
        {
          "request_id": "a4da8bec-4e89-4949-93d6-5853af926886",
          "output": {
            "task_id": "98dd7f12-116c-499f-b7dd-02d66b9da2ed",
            "task_status": "RUNNING",
            "submit_time": "2025-12-07 19:31:02.915",
            "scheduled_time": "2025-12-07 19:31:02.961",
            "task_metrics": {
              "TOTAL": 4,
              "SUCCEEDED": 0,
              "FAILED": 0
            }
          }
        }
    headers:
      content-length:
      - '272'
      content-type:
      - application/json;charset=UTF-8
      date:
      - Sun, 07 Dec 2025 11:31:07 GMT
      req-arrive-time:
      - '1765107067505'
      req-cost-time:
      - '62'
      resp-start-time:
      - '1765107067567'
      server:
      - istio-envoy
      set-cookie:
      - acw_tc=a4da8bec-4e89-4949-93d6-5853af926886bc68efbde583dac4378c55c6d97d22d7;path=/;HttpOnly;Max-Age=1800
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-envoy-upstream-service-time:
      - '54'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      authorization:
      - Bearer test_dashscope_api_key
      user-agent:
      - dashscope/1.25.2; python/3.13.9; platform/macOS-15.3.2-arm64-arm-64bit-Mach-O;
        processor/arm
    method: GET
    uri: https://dashscope.aliyuncs.com/api/v1/tasks/98dd7f12-116c-499f-b7dd-02d66b9da2ed
  response:
    body:
      string: |-
        {
          "request_id": "af3cdc45-1970-4e2a-9721-9cae4364b25e",
          "output": {
            "task_id": "98dd7f12-116c-499f-b7dd-02d66b9da2ed",
            "task_status": "RUNNING",
            "submit_time": "2025-12-07 19:31:02.915",
            "scheduled_time": "2025-12-07 19:31:02.961",
            "task_metrics": {
              "TOTAL": 4,
              "SUCCEEDED": 0,
              "FAILED": 0
            }
          }
        }
    headers:
      content-length:
      - '272'
      content-type:
      - application/json;charset=UTF-8
      date:
      - Sun, 07 Dec 2025 11:31:09 GMT
      req-arrive-time:
      - '1765107069702'
      req-cost-time:
      - '49'
      resp-start-time:
      - '1765107069751'
      server:
      - istio-envoy
      set-cookie:
      - acw_tc=af3cdc45-1970-4e2a-9721-9cae4364b25e6ebf92b34be7623e076a926faf2502bf;path=/;HttpOnly;Max-Age=1800
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-envoy-upstream-service-time:
      - '40'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      authorization:
      - Bearer test_dashscope_api_key
      user-agent:
      - dashscope/1.25.2; python/3.13.9; platform/macOS-15.3.2-arm64-arm-64bit-Mach-O;
        processor/arm
    method: GET
    uri: https://dashscope.aliyuncs.com/api/v1/tasks/98dd7f12-116c-499f-b7dd-02d66b9da2ed
  response:
    body:
      string: |-
        {
          "request_id": "927fc47f-c8c4-48dc-b7db-9e14d5955c67",
          "output": {
            "task_id": "98dd7f12-116c-499f-b7dd-02d66b9da2ed",
            "task_status": "RUNNING",
            "submit_time": "2025-12-07 19:31:02.915",
            "scheduled_time": "2025-12-07 19:31:02.961",
            "task_metrics": {
              "TOTAL": 4,
              "SUCCEEDED": 0,
              "FAILED": 0
            }
          }
        }
    headers:
      content-length:
      - '272'
      content-type:
      - application/json;charset=UTF-8
      date:
      - Sun, 07 Dec 2025 11:31:11 GMT
      req-arrive-time:
      - '1765107071887'
      req-cost-time:
      - '49'
      resp-start-time:
      - '1765107071936'
      server:
      - istio-envoy
      set-cookie:
      - acw_tc=927fc47f-c8c4-48dc-b7db-9e14d5955c6783a9be1204c40a04adea57fd1616e5e2;path=/;HttpOnly;Max-Age=1800
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-envoy-upstream-service-time:
      - '42'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      authorization:
      - Bearer test_dashscope_api_key
      user-agent:
      - dashscope/1.25.2; python/3.13.9; platform/macOS-15.3.2-arm64-arm-64bit-Mach-O;
        processor/arm
    method: GET
    uri: https://dashscope.aliyuncs.com/api/v1/tasks/98dd7f12-116c-499f-b7dd-02d66b9da2ed
  response:
    body:
      string: |-
        {
          "request_id": "37f4d664-fbf1-4322-be4f-b428c4b62826",
          "output": {
            "task_id": "98dd7f12-116c-499f-b7dd-02d66b9da2ed",
            "task_status": "RUNNING",
            "submit_time": "2025-12-07 19:31:02.915",
            "scheduled_time": "2025-12-07 19:31:02.961",
            "task_metrics": {
              "TOTAL": 4,
              "SUCCEEDED": 0,
              "FAILED": 0
            }
          }
        }
    headers:
      content-length:
      - '272'
      content-type:
      - application/json;charset=UTF-8
      date:
      - Sun, 07 Dec 2025 11:31:16 GMT
      req-arrive-time:
      - '1765107076040'
      req-cost-time:
      - '53'
      resp-start-time:
      - '1765107076094'
      server:
      - istio-envoy
      set-cookie:
      - acw_tc=37f4d664-fbf1-4322-be4f-b428c4b62826ed27e659ae5411e494f7707f9e6367bf;path=/;HttpOnly;Max-Age=1800
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-envoy-upstream-service-time:
      - '46'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      authorization:
      - Bearer test_dashscope_api_key
      user-agent:
      - dashscope/1.25.2; python/3.13.9; platform/macOS-15.3.2-arm64-arm-64bit-Mach-O;
        processor/arm
    method: GET
    uri: https://dashscope.aliyuncs.com/api/v1/tasks/98dd7f12-116c-499f-b7dd-02d66b9da2ed
  response:
    body:
      string: |-
        {
          "request_id": "a5a15dfe-3bcf-4e42-a3c6-36a564c2f51c",
          "output": {
            "task_id": "98dd7f12-116c-499f-b7dd-02d66b9da2ed",
            "task_status": "RUNNING",
            "submit_time": "2025-12-07 19:31:02.915",
            "scheduled_time": "2025-12-07 19:31:02.961",
            "task_metrics": {
              "TOTAL": 4,
              "SUCCEEDED": 0,
              "FAILED": 0
            }
          }
        }
    headers:
      content-length:
      - '272'
      content-type:
      - application/json;charset=UTF-8
      date:
      - Sun, 07 Dec 2025 11:31:20 GMT
      req-arrive-time:
      - '1765107080202'
      req-cost-time:
      - '47'
      resp-start-time:
      - '1765107080250'
      server:
      - istio-envoy
      set-cookie:
      - acw_tc=a5a15dfe-3bcf-4e42-a3c6-36a564c2f51cadfab69447927bc9728a5f67c5048056;path=/;HttpOnly;Max-Age=1800
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-envoy-upstream-service-time:
      - '40'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      authorization:
      - Bearer test_dashscope_api_key
      user-agent:
      - dashscope/1.25.2; python/3.13.9; platform/macOS-15.3.2-arm64-arm-64bit-Mach-O;
        processor/arm
    method: GET
    uri: https://dashscope.aliyuncs.com/api/v1/tasks/98dd7f12-116c-499f-b7dd-02d66b9da2ed
  response:
    body:
      string: |-
        {
          "request_id": "4999648b-824a-4c5e-b204-4bc2fc49ef7c",
          "output": {
            "task_id": "98dd7f12-116c-499f-b7dd-02d66b9da2ed",
            "task_status": "RUNNING",
            "submit_time": "2025-12-07 19:31:02.915",
            "scheduled_time": "2025-12-07 19:31:02.961",
            "task_metrics": {
              "TOTAL": 4,
              "SUCCEEDED": 0,
              "FAILED": 0
            }
          }
        }
    headers:
      content-length:
      - '272'
      content-type:
      - application/json;charset=UTF-8
      date:
      - Sun, 07 Dec 2025 11:31:24 GMT
      req-arrive-time:
      - '1765107084362'
      req-cost-time:
      - '49'
      resp-start-time:
      - '1765107084412'
      server:
      - istio-envoy
      set-cookie:
      - acw_tc=4999648b-824a-4c5e-b204-4bc2fc49ef7c1a58f1c7eab1942ddb059306fd918233;path=/;HttpOnly;Max-Age=1800
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-envoy-upstream-service-time:
      - '41'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      authorization:
      - Bearer test_dashscope_api_key
      user-agent:
      - dashscope/1.25.2; python/3.13.9; platform/macOS-15.3.2-arm64-arm-64bit-Mach-O;
        processor/arm
    method: GET
    uri: https://dashscope.aliyuncs.com/api/v1/tasks/98dd7f12-116c-499f-b7dd-02d66b9da2ed
  response:
    body:
      string: |-
        {
          "request_id": "a8e37642-4dfd-4e99-b51f-07c6631dc472",
          "output": {
            "task_id": "98dd7f12-116c-499f-b7dd-02d66b9da2ed",
            "task_status": "RUNNING",
            "submit_time": "2025-12-07 19:31:02.915",
            "scheduled_time": "2025-12-07 19:31:02.961",
            "task_metrics": {
              "TOTAL": 4,
              "SUCCEEDED": 1,
              "FAILED": 0
            }
          }
        }
    headers:
      content-length:
      - '272'
      content-type:
      - application/json;charset=UTF-8
      date:
      - Sun, 07 Dec 2025 11:31:29 GMT
      req-arrive-time:
      - '1765107089585'
      req-cost-time:
      - '50'
      resp-start-time:
      - '1765107089635'
      server:
      - istio-envoy
      set-cookie:
      - acw_tc=a8e37642-4dfd-4e99-b51f-07c6631dc472acf1db8ded7c3e0b834600162c91370d;path=/;HttpOnly;Max-Age=1800
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-envoy-upstream-service-time:
      - '43'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      authorization:
      - Bearer test_dashscope_api_key
      user-agent:
      - dashscope/1.25.2; python/3.13.9; platform/macOS-15.3.2-arm64-arm-64bit-Mach-O;
        processor/arm
    method: GET
    uri: https://dashscope.aliyuncs.com/api/v1/tasks/98dd7f12-116c-499f-b7dd-02d66b9da2ed
  response:
    body:
      string: |-
        {
          "request_id": "61e1bb54-d241-4c5c-a4ff-b4239f923092",
          "output": {
            "task_id": "98dd7f12-116c-499f-b7dd-02d66b9da2ed",
            "task_status": "SUCCEEDED",
            "submit_time": "2025-12-07 19:31:02.915",
            "scheduled_time": "2025-12-07 19:31:02.961",
            "end_time": "2025-12-07 19:31:31.825",
            "results": [
              {
                "url": "https://dashscope-result-bj.oss-cn-beijing.aliyuncs.com/1d/db/20251207/c70535fc/c4506c8d-2122-494f-a627-a847859df39a-1.png"
              },
              {
                "url": "https://dashscope-result-bj.oss-cn-beijing.aliyuncs.com/1d/77/20251207/c70535fc/8b07df98-cb21-4f16-a33c-ce9d1d898dea-1.png"
              },
              {
                "url": "https://dashscope-result-bj.oss-cn-beijing.aliyuncs.com/1d/ab/20251207/c70535fc/f52c0f1d-1c3d-4382-b629-90f381fb9c69-1.png"
              },
              {
                "url": "https://dashscope-result-bj.oss-cn-beijing.aliyuncs.com/1d/e3/20251207/c70535fc/4bf46851-e519-481f-b840-8f3d8b141bf7-1.png"
              }
            ],
            "task_metrics": {
              "TOTAL": 4,
              "SUCCEEDED": 4,
              "FAILED": 0
            }
          },
          "usage": {
            "image_count": 4
          }
        }
    headers:
      content-length:
      - '1285'
      content-type:
      - application/json;charset=UTF-8
      date:
      - Sun, 07 Dec 2025 11:31:34 GMT
      req-arrive-time:
      - '1765107094738'
      req-cost-time:
      - '33'
      resp-start-time:
      - '1765107094772'
      server:
      - istio-envoy
      set-cookie:
      - acw_tc=61e1bb54-d241-4c5c-a4ff-b4239f92309269b4a1cfb6eaa31701293e5ef508b997;path=/;HttpOnly;Max-Age=1800
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-envoy-upstream-service-time:
      - '26'
    status:
      code: 200
      message: OK
version: 1
